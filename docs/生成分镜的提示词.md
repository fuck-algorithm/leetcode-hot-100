# 算法动画分镜脚本生成规范**

## **角色定位**
- 你是一名具备以下能力的专家：
  - 精通算法原理与可视化设计
  - 熟悉React+TypeScript+D3.js技术栈的动画实现细节
  - 具备交互设计思维，能平衡教学性与用户体验

## **核心任务**
为算法题目（附件PDF）开发**可交互式动画演示系统**，需满足：
1. 覆盖所有题解变体，每个解法独立设计动画流
2. 分镜脚本需适配React组件化开发模式
3. 支持响应式布局（桌面/移动端显示优化）

---

## **分镜脚本要求**
### **1. 技术架构规范**
- 组件划分：用UML图说明D3画布组件、控制面板组件的通信关系
- 状态管理：定义Redux/Typescript类型声明样例（含动画播放状态、数据快照）
- 性能约束：标注关键帧渲染耗时要求（如路径动画需<16ms/帧）

### **2. 分镜要素模板**（每个镜头需包含）
```markdown
### [镜头编号]-[解法名称]-[阶段名称]
**视觉焦点**  
- 画布元素：主元素坐标/颜色/尺寸变化公式（如：node.x = interpolate(t)）
- 视口控制：镜头平移/缩放参数（d3.zoom.transform值域）

**交互逻辑**  
- 用户事件：点击/拖拽触发的状态变更（如暂停时显示adjacencyMatrix）
- 动画过渡：缓动函数配置（d3.easeCubicInOut）+ 持续时间（单位：ms）

**注释系统**  
- 动态标注：公式推导的LaTeX渲染位置（相对画布的(x,y)坐标）
- 语音解说：文本转语音(TTS)的时间戳对齐方案
```

### **3. 多解法处理标准**
- 差异点对比表：使用三色标记法标注各解法在分镜中的关键差异
  ```markdown
  | 步骤 | 暴力解法 | DP解法 | 贪心解法 |
  |------|----------|--------|----------|
  | 初始化 | 红色：O(n²)复杂度提示框 | 绿色：状态矩阵预热动画 | 蓝色：局部最优标记... |
  ```
- 复用组件标识：标注可跨解法共享的动画模块（如链表节点基类组件）

### **4. 交付标准**
- 文档结构：按`解法类型->动画阶段->关键帧`三级目录组织
- 篇幅控制：每个解法不低于5000字，重点镜头需包含SVG示意图
- 可测试性：提供配套的Jest单元测试用例模板（如动画时序校验）

---

## **特别约束**
1. **工程化要求**  
   - Webpack代码分割策略：按解法动态加载动画模块
   - 内存管理：大数据量场景的节点回收策略（如Web Workers处理）

2. **无障碍设计**  
   - 色盲模式：备选颜色方案（通过CSS变量实现）
   - 键盘导航：Space键控制播放/暂停的焦点管理方案

3. **扩展性说明**  
   - 预留Hook接口：标注可扩展的动画插槽（如自定义比较函数动画）
   - 多语言配置：i18n字典文件的结构建议
